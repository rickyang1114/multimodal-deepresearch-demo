<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Work Well-being Effects</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .visualization-container {
            width: 950px;
            height: 550px;
            background-color: white;
        }
        
        .main-title {
            font-size: 20pt;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .panel-title {
            font-size: 16pt;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .chart-container {
            display: flex;
            margin-bottom: 20px;
        }
        
        .panel {
            width: 50%;
            padding: 0 15px;
        }
        
        .divider {
            width: 1px;
            background-color: #ccc;
            margin: 0 5px;
        }
        
        .bar-label {
            font-size: 14pt;
            fill: #333;
        }
        
        .bar-value {
            font-size: 14pt;
            font-weight: bold;
            fill: white;
        }
        
        .axis-label {
            font-size: 12pt;
            fill: #666;
        }
        
        .grid line {
            stroke: #d0d0d0;
            stroke-opacity: 0.9;
            shape-rendering: crispEdges;
        }
        
        .explanatory-note {
            background-color: #f5f5f5;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 12pt;
            color: #555;
            line-height: 1.4;
        }
        
        .source-note {
            font-size: 10pt;
            color: #999;
            text-align: right;
            margin-top: 10px;
        }
        
        .key-number {
            font-family: 'Georgia', serif;
            font-size: 1.1em;
            font-weight: bold;
            color: #444;
        }
    </style>
</head>
<body>
    <div class="visualization-container">
        <div class="main-title">The Double-Edged Sword: Well-being Effects of Remote Work</div>
        
        <div class="chart-container">
            <div class="panel" id="benefits-panel"></div>
            <div class="divider"></div>
            <div class="panel" id="challenges-panel"></div>
        </div>
        
        <div class="explanatory-note">
            Remote work offers significant well-being benefits, particularly for work-life <span class="key-number">balance</span>, but also presents notable challenges related to <span class="key-number">digital fatigue</span> and <span class="key-number">social connection</span> that must be addressed for sustainable implementation.
        </div>
        
        <div class="source-note">
            Source: Forbes Advisor remote work statistics survey
        </div>
    </div>

    <script>
        // Data
        const benefitsData = [
            { factor: "Improved work-life balance", percentage: 71 },
            { factor: "Reduced commuting stress", percentage: 65 },
            { factor: "Greater perceived autonomy", percentage: 58 }
        ];
        
        const challengesData = [
            { factor: "Increased digital tool burnout", percentage: 69 },
            { factor: "Difficulty with colleague connections", percentage: 53 },
            { factor: "Blurred work-life boundaries", percentage: 47 }
        ];
        
        // Chart dimensions - increased margins to accommodate full labels
        const margin = { top: 50, right: 50, bottom: 40, left: 220 };
        const panelWidth = 450 - margin.left - margin.right;
        const panelHeight = 250 - margin.top - margin.bottom;
        const barHeight = 35;
        const barPadding = 25;
        
        // Create Benefits Panel
        createPanel("benefits-panel", "Benefits of Remote Work", benefitsData, "#556B2F");
        
        // Create Challenges Panel
        createPanel("challenges-panel", "Challenges of Remote Work", challengesData, "#FF6F61");
        
        function createPanel(elementId, title, data, barColor) {
            // Create SVG with increased width
            const svg = d3.select(`#${elementId}`)
                .append("svg")
                .attr("width", panelWidth + margin.left + margin.right)
                .attr("height", panelHeight + margin.top + margin.bottom)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);
            
            // Add panel title
            svg.append("text")
                .attr("class", "panel-title")
                .attr("x", panelWidth / 2)
                .attr("y", -25)
                .attr("text-anchor", "middle")
                .text(title);
            
            // Create scales
            const xScale = d3.scaleLinear()
                .domain([0, 80])
                .range([0, panelWidth]);
            
            const yScale = d3.scaleBand()
                .domain(data.map(d => d.factor))
                .range([0, panelHeight])
                .padding(0.4);
            
            // Add horizontal gridlines
            svg.append("g")
                .attr("class", "grid")
                .call(d3.axisBottom(xScale)
                    .tickSize(panelHeight)
                    .tickFormat("")
                    .ticks(4))
                .attr("transform", "translate(0,0)")
                .selectAll("line")
                .attr("stroke-dasharray", "3,3");
            
            // Add x-axis
            svg.append("g")
                .attr("transform", `translate(0,${panelHeight})`)
                .call(d3.axisBottom(xScale)
                    .tickFormat(d => d + "%")
                    .ticks(4))
                .selectAll("text")
                .attr("class", "axis-label");
            
            // Create bars
            const bars = svg.selectAll(".bar")
                .data(data)
                .enter()
                .append("g");
            
            bars.append("rect")
                .attr("class", "bar")
                .attr("x", 0)
                .attr("y", d => yScale(d.factor))
                .attr("width", d => xScale(d.percentage))
                .attr("height", yScale.bandwidth())
                .attr("fill", barColor)
                .attr("rx", 3)
                .attr("ry", 3);
            
            // Add factor labels (positioned well outside the bars with increased margin)
            bars.append("text")
                .attr("class", "bar-label")
                .attr("x", -10)
                .attr("y", d => yScale(d.factor) + yScale.bandwidth() / 2)
                .attr("dy", ".35em")
                .attr("text-anchor", "end")
                .text(d => d.factor);
            
            // Add percentage values (positioned better within bars)
            bars.append("text")
                .attr("class", "bar-value")
                .attr("x", d => {
                    // Ensure percentage is positioned properly based on bar width
                    const position = xScale(d.percentage) - 10;
                    // Make sure it doesn't go outside the bar for shorter bars
                    return Math.min(position, xScale(d.percentage) - 30);
                })
                .attr("y", d => yScale(d.factor) + yScale.bandwidth() / 2)
                .attr("dy", ".35em")
                .attr("text-anchor", "end")
                .text(d => d.percentage + "%");
        }
    </script>
</body>
</html>