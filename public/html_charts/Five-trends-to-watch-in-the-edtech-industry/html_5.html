<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EdTech Impact Dashboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f9f9f9;
        }
        
        .dashboard-container {
            width: 800px;
            height: 750px; /* Increased height to accommodate all content */
            background-color: white;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }
        
        .dashboard-title {
            text-align: center;
            font-size: 18pt;
            font-weight: bold;
            margin-bottom: 25px;
            color: #333;
        }
        
        .dashboard-content {
            display: flex;
            height: calc(100% - 80px);
            position: relative;
        }
        
        .metrics-section, .case-studies-section {
            width: 50%;
            padding: 10px;
            box-sizing: border-box;
        }
        
        .section-title {
            font-size: 16pt;
            font-weight: 600;
            margin-bottom: 20px;
            color: #444;
        }
        
        .metrics-category {
            margin-bottom: 15px;
            border-radius: 5px;
            padding: 12px;
            transition: all 0.3s ease;
        }
        
        .metrics-category:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .category-title {
            font-size: 14pt;
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .category-title i {
            margin-right: 10px;
            width: 24px;
            text-align: center;
        }
        
        .subcategories {
            font-size: 11pt;
            margin-left: 34px;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 1px rgba(0, 0, 0, 0.5);
        }
        
        .accessibility-equity .subcategories {
            color: rgba(0, 0, 0, 0.7);
            text-shadow: none;
        }
        
        .case-study {
            margin-bottom: 20px; /* Increased margin for better spacing */
            padding: 12px;
            border-radius: 5px;
            background-color: #f5f5f5;
        }
        
        .case-study-title {
            font-size: 14pt;
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .case-study-details {
            font-size: 11pt;
            color: #444;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .key-metric {
            font-family: 'Georgia', serif;
            font-weight: bold;
            color: #F08C00;
            font-size: 13pt;
        }
        
        .sample-size {
            font-size: 10pt;
            color: #777;
        }
        
        .callout-box {
            background-color: #f0f7ff;
            border-left: 4px solid #0A3D62;
            padding: 12px;
            margin-top: 20px;
            font-size: 11pt;
            color: #444;
            line-height: 1.4;
        }
        
        .sources {
            font-size: 10pt;
            color: #777;
            text-align: center;
            margin-top: 15px;
            font-style: italic;
            position: absolute;
            bottom: 10px;
            width: calc(100% - 40px);
        }
        
        .connecting-element {
            position: absolute;
            left: 50%;
            top: 15%;
            height: 70%;
            border-left: 3px dashed #aaa;
            transform: translateX(-50%);
            z-index: 1;
        }
        
        /* Color scheme */
        .academic-performance {
            background-color: #0A3D62;
            color: white;
        }
        
        .engagement-metrics {
            background-color: #3c6382;
            color: white;
        }
        
        .operational-efficiency {
            background-color: #60a3bc;
            color: white;
        }
        
        .accessibility-equity {
            background-color: #82ccdd;
            color: #333;
        }
        
        .chart-container {
            margin-top: 10px;
            position: relative;
            height: 100px; /* Slightly reduced height */
        }
        
        .axis-line {
            stroke: #ddd;
            stroke-width: 1px;
        }
        
        .bar-label {
            font-size: 10px;
            fill: #333;
        }
        
        .bar-value {
            font-size: 11px;
            font-weight: bold;
            fill: #333;
        }
        
        .case-study-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 28px;
            height: 28px;
            background-color: #1E8F7A;
            color: white;
            border-radius: 50%;
            text-align: center;
            margin-right: 10px;
            flex-shrink: 0; /* Prevent icon from shrinking */
        }
        
        .case-study-icon i {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="dashboard-title">Measuring EdTech Impact: Key Performance Indicators & Case Studies</div>
        
        <div class="dashboard-content">
            <!-- Connecting element between sections -->
            <div class="connecting-element"></div>
            
            <!-- Left Section: Metrics Framework -->
            <div class="metrics-section">
                <div class="section-title">EdTech Performance Metrics Framework</div>
                
                <div class="metrics-category academic-performance">
                    <div class="category-title">
                        <i class="fas fa-chart-line"></i>
                        Academic Performance
                    </div>
                    <div class="subcategories">
                        Test scores, Completion rates, Time-on-task
                    </div>
                </div>
                
                <div class="metrics-category engagement-metrics">
                    <div class="category-title">
                        <i class="fas fa-heart"></i>
                        Engagement Metrics
                    </div>
                    <div class="subcategories">
                        Participation rates, Persistence, User satisfaction
                    </div>
                </div>
                
                <div class="metrics-category operational-efficiency">
                    <div class="category-title">
                        <i class="fas fa-cogs"></i>
                        Operational Efficiency
                    </div>
                    <div class="subcategories">
                        Cost savings, Time savings, Resource utilization
                    </div>
                </div>
                
                <div class="metrics-category accessibility-equity">
                    <div class="category-title">
                        <i class="fas fa-universal-access"></i>
                        Accessibility & Equity
                    </div>
                    <div class="subcategories">
                        Usage across demographics, Special needs accommodation
                    </div>
                </div>
                
                <div class="callout-box">
                    <strong>Note:</strong> Comprehensive EdTech evaluation requires multiple metrics across different categories to capture the full impact on learning outcomes and educational equity.
                </div>
            </div>
            
            <!-- Right Section: Case Studies -->
            <div class="case-studies-section">
                <div class="section-title">Case Study Results</div>
                <div id="case-study-charts"></div>
            </div>
        </div>
        
        <div class="sources">
            Sources: Hazel Impact Report 2021-22, Wang et al. 2025, Sahito et al. 2024
        </div>
    </div>

    <script>
        // Data for case studies
        const caseStudies = [
            {
                title: "Carnegie Learning's MATHia",
                icon: "calculator",
                details: "<span class='key-metric'>8-12%</span> higher math scores, <span class='key-metric'>30%</span> faster improvement for low achievers across 147 schools <span class='sample-size'>(n=18,700)</span>",
                metrics: [
                    { label: "Math Score Improvement", value: 10 },
                    { label: "Low Achiever Improvement", value: 30 }
                ]
            },
            {
                title: "Hazel Telehealth",
                icon: "hospital",
                details: "<span class='key-metric'>84%</span> of students returned to class, <span class='key-metric'>44,000</span> instruction hours saved, <span class='key-metric'>63%</span> of students on free/reduced lunch",
                metrics: [
                    { label: "Return to Class Rate", value: 84 },
                    { label: "Hours Saved (thousands)", value: 44 },
                    { label: "Free/Reduced Lunch %", value: 63 }
                ]
            },
            {
                title: "AI-Assisted Learning Pilots",
                icon: "robot",
                details: "<span class='key-metric'>15%</span> improvement in math scores, <span class='key-metric'>12%</span> improvement in reading scores, <span class='key-metric'>20%</span> increase in assignment completion",
                metrics: [
                    { label: "Math Score Improvement", value: 15 },
                    { label: "Reading Score Improvement", value: 12 },
                    { label: "Assignment Completion", value: 20 }
                ]
            }
        ];

        // Create case study elements
        const caseStudyContainer = d3.select("#case-study-charts");
        
        // Add case studies with D3
        caseStudies.forEach((study, index) => {
            const caseStudyDiv = caseStudyContainer.append("div")
                .attr("class", "case-study");
            
            // Add title with icon
            const titleDiv = caseStudyDiv.append("div")
                .attr("class", "case-study-title");
            
            titleDiv.append("div")
                .attr("class", "case-study-icon")
                .html(`<i class="fas fa-${study.icon}"></i>`);
            
            titleDiv.append("span")
                .text(study.title);
            
            // Add details
            caseStudyDiv.append("div")
                .attr("class", "case-study-details")
                .html(study.details);
            
            // Create chart container
            const chartContainer = caseStudyDiv.append("div")
                .attr("class", "chart-container");
            
            // Create SVG for bar chart
            const svg = chartContainer.append("svg")
                .attr("width", "100%")
                .attr("height", 100);
            
            // Create scales
            // Use a consistent maximum value for all charts to ensure proportional representation
            const xScale = d3.scaleLinear()
                .domain([0, 100]) // Fixed scale from 0-100%
                .range([0, 260]);
            
            const yScale = d3.scaleBand()
                .domain(study.metrics.map(d => d.label))
                .range([15, 85])
                .padding(0.3);
            
            // Add axis line - moved further to the left
            svg.append("line")
                .attr("class", "axis-line")
                .attr("x1", 140)
                .attr("y1", 5)
                .attr("x2", 140)
                .attr("y2", 95);
            
            // Add bars
            const bars = svg.selectAll(".bar")
                .data(study.metrics)
                .enter()
                .append("g");
            
            bars.append("rect")
                .attr("x", 140)
                .attr("y", d => yScale(d.label))
                .attr("width", d => xScale(d.value))
                .attr("height", yScale.bandwidth())
                .attr("fill", "#1E8F7A");
            
            // Add labels - moved further to the left
            bars.append("text")
                .attr("class", "bar-label")
                .attr("x", 135)
                .attr("y", d => yScale(d.label) + yScale.bandwidth() / 2)
                .attr("dy", "0.35em")
                .attr("text-anchor", "end")
                .text(d => d.label);
            
            // Add values - positioned at the end of each bar
            bars.append("text")
                .attr("class", "bar-value")
                .attr("x", d => 145 + xScale(d.value))
                .attr("y", d => yScale(d.label) + yScale.bandwidth() / 2)
                .attr("dy", "0.35em")
                .attr("text-anchor", "start")
                .text(d => d.value + "%");
        });
    </script>
</body>
</html>