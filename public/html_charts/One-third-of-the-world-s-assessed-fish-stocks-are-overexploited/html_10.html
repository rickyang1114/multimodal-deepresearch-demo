<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emerging Technologies for Enhanced Fisheries Monitoring and Enforcement</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      body {
        font-family: 'Arial', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
        padding: 20px;
      }

      .visualization-container {
        width: 800px;
        height: 600px;
        background-color: white;
        position: relative;
      }

      .title {
        font-size: 18pt;
        font-weight: bold;
        color: #1a3a5c; /* midnight navy */
        text-align: center;
        margin-bottom: 20px;
      }

      .tech-table {
        width: 100%;
        border-collapse: collapse;
      }

      .tech-column {
        width: 25%;
        vertical-align: top;
        border-right: 0.75px solid #7d8ca3; /* slate gray */
        padding: 10px;
      }

      .tech-column:last-child {
        border-right: none;
      }

      .tech-icon {
        font-size: 32px;
        color: #1a3a5c;
        text-align: center;
        margin-bottom: 8px;
      }

      .tech-name {
        font-size: 14pt;
        font-weight: bold;
        color: #1a3a5c;
        text-align: center;
        margin-bottom: 8px;
      }

      .tech-description {
        font-size: 10pt;
        color: #333333; /* dark gray */
        text-align: left;
        margin-bottom: 8px;
        min-height: 60px;
      }

      .tech-capabilities {
        font-size: 10pt;
        font-style: italic;
        color: #7d8ca3; /* slate gray */
        text-align: left;
        margin-bottom: 15px;
        min-height: 60px;
      }

      .metric-row {
        display: flex;
        padding: 8px 0;
        border-bottom: 0.75px solid #7d8ca3;
      }

      .metric-row:nth-child(odd) {
        background-color: #f9f9f9; /* very light gray */
      }

      .metric-label {
        font-size: 10pt;
        font-weight: 500;
        color: #333333;
        width: 150px;
        padding-left: 10px;
      }

      .metric-value {
        flex-grow: 1;
        display: flex;
        align-items: center;
      }

      .trl-value {
        font-size: 12pt;
        font-family: 'Georgia', serif;
        color: #1a3a5c;
        font-weight: bold;
      }

      .trl-denominator {
        font-size: 10pt;
        color: #7d8ca3;
        margin-left: 2px;
      }

      .performance-circle {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 5px;
      }

      .high {
        background-color: #4abdac; /* teal */
      }

      .medium {
        background-color: #7d8ca3; /* slate gray */
      }

      .low {
        background-color: #fc4a1a; /* coral */
      }

      .performance-label {
        font-size: 10pt;
        color: #333333;
      }

      .explanation-box {
        background-color: #ededed;
        border: 1px solid #7d8ca3;
        padding: 12px;
        margin-top: 20px;
        font-size: 10pt;
        color: #333333;
      }

      .source-attribution {
        font-size: 8pt;
        color: #7d8ca3;
        text-align: right;
        margin-top: 10px;
      }

      .metrics-container {
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <div class="visualization-container">
      <div class="title">
        Emerging Technologies for Enhanced Fisheries Monitoring and Enforcement
      </div>

      <div id="tech-comparison"></div>

      <div class="explanation-box">
        These emerging technologies offer complementary capabilities for fisheries monitoring.
        Satellite systems provide broad coverage but lower resolution, while in-situ technologies
        like SAS and HI offer detailed inspections. Integration of these approaches with AI
        processing is creating new possibilities for enforcing bottom-trawl restrictions, monitoring
        protected areas, and combating IUU fishing, though deployment costs remain a barrier in
        developing regions.
      </div>

      <div class="source-attribution">
        Source: Based on Pham et al. (2023) and related technological assessments
      </div>
    </div>

    <script>
      // Data for the technologies
      const technologies = [
        {
          name: 'Synthetic Aperture Sonar (SAS)',
          icon: 'fa-solid fa-water',
          description:
            'AUV-mounted sonar systems capable of detecting objects 50-100mm in size over ~10 kmÂ²/h',
          capabilities:
            'Autonomous detection of fishing gear and debris using onboard CNN-based processing',
          metrics: [
            { name: 'Technology Readiness Level', value: '6/10', rating: null },
            { name: 'Spatial Coverage', rating: 'high' },
            { name: 'Detection Accuracy', rating: 'medium' },
            { name: 'Cost Efficiency', rating: 'low' },
            { name: 'Deployment Complexity', rating: 'medium' },
          ],
        },
        {
          name: 'Hyperspectral Imaging (HI)',
          icon: 'fa-solid fa-rainbow',
          description:
            'ROV-mounted systems differentiating material types with >95% accuracy for items >5mm',
          capabilities:
            'Direct identification of fishing gear types and materials in controlled conditions',
          metrics: [
            { name: 'Technology Readiness Level', value: '4/10', rating: null },
            { name: 'Spatial Coverage', rating: 'low' },
            { name: 'Detection Accuracy', rating: 'high' },
            { name: 'Cost Efficiency', rating: 'medium' },
            { name: 'Deployment Complexity', rating: 'high' },
          ],
        },
        {
          name: 'AI-Enhanced Forward-Looking Sonar (FLS)',
          icon: 'fa-solid fa-brain',
          description:
            'AI algorithms (CNN, SVM) applied to sonar imagery achieving 85-90% success in differentiating objects',
          capabilities:
            'When integrated on USVs, enables autonomous monitoring of bottom-trawl exclusion zones',
          metrics: [
            { name: 'Technology Readiness Level', value: '5/10', rating: null },
            { name: 'Spatial Coverage', rating: 'medium' },
            { name: 'Detection Accuracy', rating: 'medium' },
            { name: 'Cost Efficiency', rating: 'medium' },
            { name: 'Deployment Complexity', rating: 'medium' },
          ],
        },
        {
          name: 'Satellite Monitoring Systems',
          icon: 'fa-solid fa-satellite',
          description:
            'Combined optical, radar, and AIS monitoring providing large-scale vessel tracking and activity analysis',
          capabilities:
            'Global coverage with machine learning algorithms to detect fishing patterns and potential violations',
          metrics: [
            { name: 'Technology Readiness Level', value: '8/10', rating: null },
            { name: 'Spatial Coverage', rating: 'high' },
            { name: 'Detection Accuracy', rating: 'medium' },
            { name: 'Cost Efficiency', rating: 'high' },
            { name: 'Deployment Complexity', rating: 'low' },
          ],
        },
      ]

      // Create the table structure
      const table = d3.select('#tech-comparison').append('table').attr('class', 'tech-table')

      // Create a row for the technology columns
      const techRow = table.append('tr')

      // Add columns for each technology
      const techColumns = techRow
        .selectAll('.tech-column')
        .data(technologies)
        .enter()
        .append('td')
        .attr('class', 'tech-column')

      // Add icons
      techColumns
        .append('div')
        .attr('class', 'tech-icon')
        .html((d) => `<i class="${d.icon}"></i>`)

      // Add technology names
      techColumns
        .append('div')
        .attr('class', 'tech-name')
        .text((d) => d.name)

      // Add technology descriptions
      techColumns
        .append('div')
        .attr('class', 'tech-description')
        .text((d) => d.description)

      // Add technology capabilities
      techColumns
        .append('div')
        .attr('class', 'tech-capabilities')
        .text((d) => d.capabilities)

      // Add metrics container
      const metricsContainers = techColumns.append('div').attr('class', 'metrics-container')

      // Add metrics for each technology
      technologies.forEach((tech, techIndex) => {
        const container = d3.select(metricsContainers.nodes()[techIndex])

        tech.metrics.forEach((metric, i) => {
          const metricRow = container
            .append('div')
            .attr('class', 'metric-row')
            .style('background-color', i % 2 === 0 ? '#f9f9f9' : 'white')

          metricRow.append('div').attr('class', 'metric-label').text(metric.name)

          const metricValue = metricRow.append('div').attr('class', 'metric-value')

          if (metric.name === 'Technology Readiness Level') {
            // For TRL, show the numerical value
            const trlValue = metric.value.split('/')[0]
            metricValue.html(
              `<span class="trl-value">${trlValue}</span><span class="trl-denominator">/10</span>`
            )
          } else {
            // For other metrics, show colored circles
            metricValue
              .append('span')
              .attr('class', `performance-circle ${metric.rating}`)
              .style(
                'background-color',
                metric.rating === 'high'
                  ? '#4ABDAC'
                  : metric.rating === 'medium'
                    ? '#7D8CA3'
                    : '#FC4A1A'
              )

            metricValue
              .append('span')
              .attr('class', 'performance-label')
              .text(metric.rating.charAt(0).toUpperCase() + metric.rating.slice(1))
          }
        })
      })
    </script>
  </body>
</html>
